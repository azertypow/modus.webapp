import{_ as z}from"./AppProjectItem.78486017.js";import{A,_ as B}from"./AppPage.3fd00907.js";import{g as M,u as P,x as T,r as d,k as g,h as F,y as N,z as S,c as s,b as u,i as t,a as i,t as y,F as p,B as m,d as V,v as $,o as a,p as D,f as E,_ as R}from"./entry.6895b214.js";import{a as j,i as w,b as H}from"./apiDefinitions.f66cfa66.js";import"./precent.276ac27c.js";import"./AppTextContent.e770ddfa.js";const O=l=>(D("data-v-5bdcd352"),l=l(),E(),l),G={class:"v-projects"},J={class:"v-project__content app-show-background-on-nav"},K={class:"v-project__content__grid"},Q={class:"v-project__section v-project__section--full"},U={style:{display:"flex","align-items":"center","justify-content":"center"}},W={class:"v-project__filter__text"},X=O(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[i("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1)),Y={key:1,style:{display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center"}},Z=["onClick"],I={class:"v-project__section"},ee={key:1,class:"v-project__section v-project__section--full"},te={style:{"min-height":"50vh",display:"flex","align-items":"center","justify-content":"center",width:"100%"}},ne={key:0,style:{"text-align":"center"}},oe={class:"v-project__section"},se=M({__name:"projects",setup(l){const x=P(),v=T(),h=d(void 0),k=d(void 0),_=d(void 0),f=g(()=>!n.value||!_.value?null:Object.values(_.value).filter(o=>o.content.device===n.value));F(async()=>{var r,c;const o=await N("projects");h.value=(r=o.options.headerImage)==null?void 0:r.resize.tiny,k.value=o.options.headerTitle,_.value=o.children,q(((c=o.options.headerImage)==null?void 0:c.url)||"")});function q(o){const r=new Image;r.src=o,r.addEventListener("load",()=>h.value=o)}const n=d(x.query.q||null),b=g(()=>n.value===null||typeof n.value!="string"?null:w(n.value)?j[n.value]:null);return S(()=>x.query.q,o=>{n.value=o}),g(()=>n.value===null||typeof n.value!="string"?null:w(n.value)?H[n.value]:null),(o,r)=>{const c=z,C=B;return a(),s("section",G,[u(A,{"header-cover":t(h),"header-text":t(k),"without-body":!0},null,8,["header-cover","header-text"]),i("div",J,[i("div",K,[i("div",Q,[i("div",U,[t(b)?(a(),s("div",{key:0,class:"v-project__filter",onClick:r[0]||(r[0]=e=>t(v).push({query:{}}))},[i("div",W,y(t(b)),1),X])):(a(),s("div",Y,[(a(!0),s(p,null,m(t(j),(e,L)=>(a(),s("div",{class:"app-button app-button--small",onClick:ae=>t(v).push({query:{q:L}})},y(e),9,Z))),256))]))])]),t(f)?(a(),s(p,{key:0},[t(f).length>0?(a(!0),s(p,{key:0},m(t(f),e=>(a(),s("div",I,[u(c,{title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"])]))),256)):(a(),s("div",ee,[i("div",te,[typeof t(n)=="string"&&t(w)(t(n))?(a(),s("h4",ne,[V("Il n'y a pas encore de projet pour "),i("span",{class:"app-button app-button--small",onClick:r[1]||(r[1]=e=>t(v).push({query:{q:""}}))},y(t(j)[t(n)]),1)])):$("",!0)])]))],64)):(a(!0),s(p,{key:1},m(t(_),e=>(a(),s("div",oe,[u(c,{title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"])]))),256))])]),u(C)])}}});const ue=R(se,[["__scopeId","data-v-5bdcd352"]]);export{ue as default};
