import{_ as F}from"./AppProjectItem.e0c25c6a.js";import{f as V,A as O,_ as R}from"./AppPage.3e5f4be7.js";import{g as C,k,o as a,c as n,a as o,q as H,t as _,i as t,v as g,F as h,m as J,x as P,p as S,f as z,_ as L,u as G,r as w,h as K,y as Q,z as U,b as D,B as x,d as W,C as q}from"./entry.caba0b9c.js";import{b as M,i as b,c as X}from"./apiDefinitions.3acbe517.js";import"./precent.942edfa8.js";function Y(i){return typeof i!="string"?(console.error("projectBody must be type of string"),null):JSON.parse(i).find(s=>s.type==="spotify"||s.type==="video")}const T=i=>(S("data-v-5c194354"),i=i(),z(),i),I=["src"],ee={class:"v-app-project-media__header"},te={class:"v-app-project-media__header__title app-font-h1"},ae={class:"v-app-project-media__header__headerTitle app-font-h4"},oe={key:0,class:"v-app-project-media__details"},ne={class:"app-font-small"},se={key:0,class:"app-font-small"},re={key:1,class:"v-app-project-media__player-wrap"},ce=T(()=>o("div",{class:"v-app-project-media__player-wrap__title app-font-small"}," accéder au podcast ",-1)),ie=T(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",fill:"white",class:"v-app-project-media__player-wrap__payer"},[o("path",{d:"m380-300 280-180-280-180v360ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)),de=T(()=>o("div",{class:"v-app-project-media__player-wrap__title app-font-small"}," accéder à la vidéo ",-1)),le=T(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",fill:"white",class:"v-app-project-media__player-wrap__payer"},[o("path",{d:"m380-300 280-180-280-180v360ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)),pe=C({__name:"AppProjectMedia",props:{projectMediaData:{}},setup(i){const u=i,s=k(()=>Y(u.projectMediaData.content.body));function y(){P().push(`/project/${u.projectMediaData.slug}`)}return(p,f)=>{var v;return a(),n("section",{class:J(["v-app-project-media",(v=t(s))==null?void 0:v.type]),onClick:y},[o("img",{class:"v-app-project-media__cover",src:p.projectMediaData.headerImage[0].resize.reg,style:H({objectPosition:p.projectMediaData.headerImage[0].focus})},null,12,I),o("div",ee,[o("div",te,_(p.projectMediaData.content.title),1),o("div",ae,_(p.projectMediaData.content.headertitle),1)]),t(s)?(a(),n("div",oe,[o("div",ne,_(t(s).content.credits),1),t(s).content.date?(a(),n("div",se,"publié le "+_(t(V)(t(s).content.date)),1)):g("",!0)])):g("",!0),t(s)?(a(),n("div",re,[t(s).type==="spotify"?(a(),n(h,{key:0},[ce,ie],64)):t(s).type==="video"?(a(),n(h,{key:1},[de,le],64)):g("",!0)])):g("",!0)],2)}}});const A=L(pe,[["__scopeId","data-v-5c194354"]]),_e=i=>(S("data-v-4b0c54d8"),i=i(),z(),i),ue={class:"v-projects"},ve={class:"v-project__content app-show-background-on-nav"},he={class:"v-project__content__grid"},ye={class:"v-project__section v-project__section--full"},fe={style:{display:"flex","align-items":"center","justify-content":"center"}},me={class:"v-project__filter__text"},ge=_e(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[o("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1)),je={key:1,class:"v-project__filter--list",style:{display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center"}},we=["onClick"],qe={class:"v-project__section"},ke={key:1,class:"v-project__section v-project__section--full"},Te={style:{"min-height":"50vh",display:"flex","align-items":"center","justify-content":"center",width:"100%"}},xe={key:0,style:{"text-align":"center"}},Me={class:"v-project__section"},be=C({__name:"projects",setup(i){const u=G(),s=P(),y=w(void 0),p=w(void 0),f=w(void 0),v=k(()=>!r.value||!f.value?null:Z(f.value));function Z(c){return Object.values(c).filter(d=>d.content.device===r.value)}function E(c){return Object.values(c).sort((l,m)=>{const e=new Date(l.content.datestart).getTime(),j=new Date(m.content.datestart).getTime();if(e!==j)return j-e;const B=l.content.dateend?new Date(l.content.dateend).getTime():0;return(m.content.dateend?new Date(m.content.dateend).getTime():0)-B})}K(async()=>{var d,l;const c=await Q("projects");y.value=(d=c.options.headerImage)==null?void 0:d.resize.tiny,p.value=c.options.headerTitle,f.value=E(c.children),N(((l=c.options.headerImage)==null?void 0:l.url)||"")});function N(c){const d=new Image;d.src=c,d.addEventListener("load",()=>y.value=c)}const r=w(u.query.q||null),$=k(()=>r.value===null||typeof r.value!="string"?null:b(r.value)?M[r.value]:null);return U(()=>u.query.q,c=>{r.value=c}),k(()=>r.value===null||typeof r.value!="string"?null:b(r.value)?X[r.value]:null),(c,d)=>{const l=F,m=R;return a(),n("section",ue,[D(O,{"header-cover":t(y),"header-text":t(p),"without-body":!0},null,8,["header-cover","header-text"]),o("div",ve,[o("div",he,[o("div",ye,[o("div",fe,[t($)?(a(),n("div",{key:0,class:"v-project__filter",onClick:d[0]||(d[0]=e=>t(s).push({query:{}}))},[o("div",me,_(t($)),1),ge])):(a(),n("div",je,[(a(!0),n(h,null,x(t(M),(e,j)=>(a(),n("div",{class:"app-button app-button--small",onClick:B=>t(s).push({query:{q:j}})},_(e),9,we))),256))]))])]),t(v)?(a(),n(h,{key:0},[t(v).length>0?(a(!0),n(h,{key:0},x(t(v),e=>(a(),n("div",qe,[e.content.device==="library"?(a(),q(A,{key:0,"project-media-data":e},null,8,["project-media-data"])):(a(),q(l,{key:1,title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"]))]))),256)):(a(),n("div",ke,[o("div",Te,[typeof t(r)=="string"&&t(b)(t(r))?(a(),n("h4",xe,[W("Il n'y a pas encore de projet pour "),o("span",{class:"app-button app-button--small",onClick:d[1]||(d[1]=e=>t(s).push({query:{q:""}}))},_(t(M)[t(r)]),1)])):g("",!0)])]))],64)):(a(!0),n(h,{key:1},x(t(f),e=>(a(),n("div",Me,[e.content.device==="library"?(a(),q(A,{key:0,"project-media-data":e},null,8,["project-media-data"])):(a(),q(l,{key:1,title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"]))]))),256))])]),D(m)])}}});const Se=L(be,[["__scopeId","data-v-4b0c54d8"]]);export{Se as default};
