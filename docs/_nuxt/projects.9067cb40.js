import{_ as D}from"./AppProjectItem.98900f94.js";import{A as S,_ as z}from"./AppPage.82b946a0.js";import{g as E,u as M,x as P,r as p,k as m,h as F,y as N,z as V,c as a,b as v,i as t,a as c,t as j,F as h,B as w,d as $,v as O,o as r,p as R,f as H,_ as G}from"./entry.4aa156e8.js";import{b as x,i as k,c as J}from"./apiDefinitions.41df0546.js";import"./precent.f5d8fe1a.js";const K=d=>(R("data-v-5391e254"),d=d(),H(),d),Q={class:"v-projects"},U={class:"v-project__content app-show-background-on-nav"},W={class:"v-project__content__grid"},X={class:"v-project__section v-project__section--full"},Y={style:{display:"flex","align-items":"center","justify-content":"center"}},Z={class:"v-project__filter__text"},I=K(()=>c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[c("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1)),ee={key:1,style:{display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center"}},te=["onClick"],ne={class:"v-project__section"},oe={key:1,class:"v-project__section v-project__section--full"},se={style:{"min-height":"50vh",display:"flex","align-items":"center","justify-content":"center",width:"100%"}},ae={key:0,style:{"text-align":"center"}},re={class:"v-project__section"},ie=E({__name:"projects",setup(d){const b=M(),g=P(),f=p(void 0),T=p(void 0),u=p(void 0),y=m(()=>!n.value||!u.value?null:B(u.value));function B(o){return Object.values(o).filter(s=>s.content.device===n.value)}function C(o){return Object.values(o).sort((i,l)=>{const e=new Date(i.content.datestart).getTime(),_=new Date(l.content.datestart).getTime();if(e!==_)return _-e;const A=i.content.dateend?new Date(i.content.dateend).getTime():0;return(l.content.dateend?new Date(l.content.dateend).getTime():0)-A})}F(async()=>{var s,i;const o=await N("projects");f.value=(s=o.options.headerImage)==null?void 0:s.resize.tiny,T.value=o.options.headerTitle,u.value=C(o.children),L(((i=o.options.headerImage)==null?void 0:i.url)||"")});function L(o){const s=new Image;s.src=o,s.addEventListener("load",()=>f.value=o)}const n=p(b.query.q||null),q=m(()=>n.value===null||typeof n.value!="string"?null:k(n.value)?x[n.value]:null);return V(()=>b.query.q,o=>{n.value=o}),m(()=>n.value===null||typeof n.value!="string"?null:k(n.value)?J[n.value]:null),(o,s)=>{const i=D,l=z;return r(),a("section",Q,[v(S,{"header-cover":t(f),"header-text":t(T),"without-body":!0},null,8,["header-cover","header-text"]),c("div",U,[c("div",W,[c("div",X,[c("div",Y,[t(q)?(r(),a("div",{key:0,class:"v-project__filter",onClick:s[0]||(s[0]=e=>t(g).push({query:{}}))},[c("div",Z,j(t(q)),1),I])):(r(),a("div",ee,[(r(!0),a(h,null,w(t(x),(e,_)=>(r(),a("div",{class:"app-button app-button--small",onClick:A=>t(g).push({query:{q:_}})},j(e),9,te))),256))]))])]),t(y)?(r(),a(h,{key:0},[t(y).length>0?(r(!0),a(h,{key:0},w(t(y),e=>(r(),a("div",ne,[v(i,{title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"])]))),256)):(r(),a("div",oe,[c("div",se,[typeof t(n)=="string"&&t(k)(t(n))?(r(),a("h4",ae,[$("Il n'y a pas encore de projet pour "),c("span",{class:"app-button app-button--small",onClick:s[1]||(s[1]=e=>t(g).push({query:{q:""}}))},j(t(x)[t(n)]),1)])):O("",!0)])]))],64)):(r(!0),a(h,{key:1},w(t(u),e=>(r(),a("div",re,[v(i,{title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"])]))),256))])]),v(l)])}}});const ve=G(ie,[["__scopeId","data-v-5391e254"]]);export{ve as default};
