import{A as V,_ as T}from"./AppPage.8175d464.js";import{g as z,r as f,B as C,h as B,k as U,o as a,c,F as b,C as A,t as x,v as y,H as m,J as P,a as d,I as F,K as q,x as D,A as j,b as M,i as O,L as S,p as E,f as $,_ as L}from"./entry.93410995.js";import"./precent.7259d84e.js";import"./apiDefinitions.94a176bc.js";const Q={class:"app-form-declic-mobility"},G={key:0},I=["innerHTML"],R=["onUpdate:modelValue"],w=["value"],H={key:0,value:"autre"},J=["onUpdate:modelValue"],K=["onUpdate:modelValue","placeholder"],W=["onUpdate:modelValue"],X=["value","onUpdate:modelValue"],Y=["onUpdate:modelValue","placeholder"],Z=["onClick"],ee=z({__name:"AppFormDeclicMobility-2",setup(h){const _=[{id:1,text:"Dans quelle commune votre domicile principal est-il situé ?",type:"select",options:["Vile de Carouge","Ville de Genève","autre"]},{id:1.1,type:"message",conditions:{isBlocking:!0,dependsOn:1,value:e=>!e},text:"<p>Sélectionnez une commune ci-dessus.</p>"},{id:1.2,type:"message",conditions:{isBlocking:!0,dependsOn:1,value:e=>e==="autre"},text:`
        <p>Vous résidez hors du territoire couvert par l’initiative « Déclic mobilité » qui se tiendra au printemps 2025. Si vous connaissez des personnes qui résident dans la commune de Genève ou de Carouge, n’hésitez pas à leur partager l’information.</p>
        <p>Par ailleurs et si vous souhaitez être recontacté pour participer à la seconde phase de l’initiative « Déclic mobilité » qui se tiendra à l’automne 2025 sur tout le Canton de Genève et la Région de Nyon, merci de nous envoyer un message par email en cliquant ici.</p>
        `},{id:2,text:"Depuis combien de temps résidez-vous dans cette commune ?",type:"select",options:["moins de 2 ans","2 à 5 ans","5 à 10 ans","plus de 10 ans"]},{id:4,text:"Combien de personnes composent votre ménage ?",type:"number",values:["Personnes de 65 ans et plus","Personnes de 26 à 64 ans","Personnes de 18 à 25 ans","Personnes de 16 à 17 ans","Personnes de 0 à 15 ans"]},{id:5,text:"De combien de véhicules disposez-vous au sein de votre ménage ?",type:"number",values:["nombre de moto/scooter ","nombre de voiture "]},{id:6,text:"Avez-vous personnellement accès à l’un de ces véhicules ? -> supprimer [bug]",type:"checkbox",options:["Moto/scooter","Voiture"]},{id:7,text:"A quelle fréquence vous déplacez-vous en moto/scooter en tant que conducteur.ices ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>Array.isArray(e)?e[0]>0:!1}},{id:8,text:"A quelle fréquence vous déplacez-vous en voiture en tant que conducteur.ices ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>Array.isArray(e)?e[1]>0:!1}},{id:9,text:"Quelle est votre année de naissance ?",type:"select",options:["1925","1926","1927","1928","1929","1930","1931","1932","1933","1934","1935","1936","1937","1938","1939","1940","1941","1942","1943","1944","1945","1946","1947","1948","1949","1950","1951","1952","1953","1954","1955","1956","1957","1958","1959","1960","1961","1962","1963","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1985","1986","1987","1988","1989","1990","1991","1992","1993","1994","1995","1996","1997","1998","1999","2000","2001","2002","2003","2004","2005","2006","2007 ou plus"]},{id:9.1,type:"message",conditions:{isBlocking:!0,dependsOn:9,value:e=>e?e==="2007 ou plus":!0},text:"Ce défi s’adresse uniquement aux personnes majeures. Merci pour votre compréhension. N’hésitez pas à partager l’information auprès des personnes majeures de votre entourage."},{id:10,text:"Etes-vous une femme ou un homme ?",type:"select",options:["Une femme","Un homme","Autre / je ne souhaite pas répondre"]},{id:11,text:"Quelle situation professionnelle vous correspond actuellement ?",type:"select",hasOtherOption:!0,options:["Actif/active à temps plein","Actif/active à temps partiel","Sans emploi / au chômage","Etudiant·e","Retraité·e"]},{id:12,text:"Avez-vous le permis de conduire ?",type:"select",options:["Oui","Non","Momentanément pas (par exemple retrait)"]},{id:13,text:"De quel(s) abonnement(s) de transports publics disposez-vous?",type:"checkbox",options:["Aucun","Abonnement de zone unireso TPG","Abonnement de parcours CFF","Abonnement demi-tarif CFF","Abonnement général (AG) CFF"]},{id:14,text:"Avez-vous personnellement accès à l’un de ces véhicules : (Veuillez mentionner uniquement le(s) véhicule(s) de votre ménage que vous pouvez utiliser.)",type:"checkbox",options:["Vélo à assistance électrique","Vélo cargo","Vélo conventionnel (mécanique)"]},{id:15,text:"Souhaitez-vous faire évoluer vos pratiques de déplacement pour un mode de vie plus durable ?",type:"select",options:["Oui, tout à fait","Plutôt oui","Plutôt non","Pas du tout"]},{id:15.1,type:"message",conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(console.log(o),!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((u,n)=>u+parseFloat(n),0),r=o.reduce((u,n)=>u+parseFloat(n),0);return console.log("totalAdults",t,"totalVehiculs",r),t>r}},text:"Toutes les personnes de votre ménage doivent participer au défi. Merci de remplir les informations personnelles pour chaque participant."},{id:15.2,type:"message",conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>1}},text:"Merci de remplir ces quelques questions complémentaires pour la <u>seconde</u> personne majeure de votre ménage. "},{id:16,text:"Quelle situation professionnelle lui correspond actuellement ?",type:"select",options:["Actif/active à temps plein","Actif/active à temps partiel","Sans emploi / au chômage","Etudiant·e","Retraité·e","Autres"],conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>1}}},{id:17,text:"Possède-t-elle le permis de conduire ?",type:"select",options:["Oui","Non","Momentanément pas (par exemple retrait)"],conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>1}}},{id:18,text:"A quelle fréquence se déplace-t-elle en moto/scooter ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[0]||e[0]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:19,text:"A quelle fréquence se déplace-t-elle en voiture ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:20,text:"De quel(s) abonnement(s) de transports publics dispose-t-elle ?",type:"checkbox",options:["Aucun","Abonnement de zone unireso","Abonnement de parcours CFF","Abonnement demi-tarif","Abonnement général (AG)","Autres : précisez [zone de texte]"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:21,text:"A-t-elle personnellement accès à l’un de ces véhicules :",type:"checkbox",options:["Vélo à assistance électrique","Vélo cargo","Vélo conventionnel (mécanique)"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:21.1,type:"message",conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>2}},text:"Merci de remplir ces quelques questions complémentaires pour la <u>troisième</u> personne majeure de votre ménage. "},{id:22,text:"Quelle situation professionnelle lui correspond actuellement ?",type:"select",options:["Actif/active à temps plein","Actif/active à temps partiel","Sans emploi / au chômage","Etudiant·e","Retraité·e","Autres"],conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>1}}},{id:23,text:"Possède-t-elle le permis de conduire ?",type:"select",options:["Oui","Non","Momentanément pas (par exemple retrait)"],conditions:{isBlocking:!1,value:()=>{const e=i.value[4],o=i.value[5];if(!e||e.length===0||!o||o.length===0)return!0;const t=e.slice(0,4).reduce((n,s)=>n+parseFloat(s),0),r=e.slice(0,3).reduce((n,s)=>n+parseFloat(s),0),u=o.reduce((n,s)=>n+parseFloat(s),0);return t>u&&r>1}}},{id:24,text:"A quelle fréquence se déplace-t-elle en moto/scooter ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[0]||e[0]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:25,text:"A quelle fréquence se déplace-t-elle en voiture ?",type:"select",options:["Tous les jours ou presque","Une à plusieurs fois par semaine","Moins d’une fois par semaine"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:26,text:"De quel(s) abonnement(s) de transports publics dispose-t-elle ?",type:"checkbox",options:["Aucun","Abonnement de zone unireso","Abonnement de parcours CFF","Abonnement demi-tarif","Abonnement général (AG)","Autres : précisez [zone de texte]"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:27,text:"A-t-elle personnellement accès à l’un de ces véhicules :",type:"checkbox",options:["Vélo à assistance électrique","Vélo cargo","Vélo conventionnel (mécanique)"],conditions:{isBlocking:!1,dependsOn:5,value:e=>{if(!Array.isArray(e)||!e[1]||e[1]===0)return!1;const o=i.value[4],t=i.value[5];if(!o||o.length===0||!t||t.length===0)return!0;const r=o.slice(0,4).reduce((s,l)=>s+parseFloat(l),0),u=o.slice(0,3).reduce((s,l)=>s+parseFloat(l),0),n=t.reduce((s,l)=>s+parseFloat(l),0);return r>n&&u>1}}},{id:27.1,type:"message",conditions:{isBlocking:!1,value:()=>!0},text:"Question pour enfant: Comment on calcule les enfants?"}],i=f({});_.forEach(e=>{(e.type==="checkbox"||e.type==="number")&&(i.value[e.id]=[])});const g=f([]);C(i,()=>p(),{deep:!0}),B(()=>p());function p(){const e=[];let o=!1;for(const t of _)if(!o){if(t.conditions){const{dependsOn:r,value:u}=t.conditions;if(r){const n=i.value[r],s=typeof u=="function"?u(n):n===u;if(!s)continue;t.type==="message"&&s&&(o=t.conditions.isBlocking?t.conditions.isBlocking:!1)}else{if(typeof u!="function"){console.error(`dependsOn is undefined and value is not a function.
                    if dependsOn is not specified, value must be nu function to check a condition.`);continue}const n=u();if(!n)continue;t.type==="message"&&n&&(o=t.conditions.isBlocking?t.conditions.isBlocking:!1)}}e.push(t)}g.value=e}const k=U(()=>g.value.every(e=>i.value[e.id]!==void 0&&i.value[e.id]!=="")),v=()=>{k.value?console.log("Formulaire soumis :",i.value):alert("Veuillez remplir toutes les questions obligatoires.")};return(e,o)=>(a(),c("form",Q,[(a(!0),c(b,null,A(g.value,t=>(a(),c("div",{key:t.id,class:"app-form__section"},[t.type!=="message"?(a(),c("label",G,x(t.text),1)):y("",!0),t.type==="message"?(a(),c("div",{key:1,class:"app-form-declic-mobility__message",innerHTML:t.text},null,8,I)):t.type==="select"?(a(),c(b,{key:2},[m(d("select",{"onUpdate:modelValue":r=>i.value[t.id]=r},[(a(!0),c(b,null,A(t.options,r=>(a(),c("option",{key:r,value:r},x(r),9,w))),128)),t.hasOtherOption?(a(),c("option",H,"Autre")):y("",!0)],8,R),[[P,i.value[t.id]]]),t.hasOtherOption&&i.value[t.id]==="autre"?m((a(),c("textarea",{key:0,"onUpdate:modelValue":r=>i.value[`${t.id}_other`]=r,placeholder:"Précisez votre réponse"},null,8,J)),[[F,i.value[`${t.id}_other`]]]):y("",!0)],64)):t.type==="input"?m((a(),c("input",{key:3,"onUpdate:modelValue":r=>i.value[t.id]=r,type:"text",placeholder:t.placeholder},null,8,K)),[[F,i.value[t.id]]]):t.type==="number"?(a(!0),c(b,{key:4},A(t.values,(r,u)=>(a(),c("div",{key:r,class:"app-form__section__subsections"},[d("label",null,x(r),1),m(d("input",{"onUpdate:modelValue":n=>i.value[t.id][u]=n,type:"number"},null,8,W),[[F,i.value[t.id][u]]])]))),128)):t.type==="checkbox"?(a(!0),c(b,{key:5},A(t.options,r=>(a(),c("div",{key:r,class:"app-form__section__subsections"},[m(d("input",{type:"checkbox",value:r,"onUpdate:modelValue":u=>i.value[t.id]=u},null,8,X),[[q,i.value[t.id]]]),d("label",null,x(r),1)]))),128)):t.type==="textarea"?m((a(),c("textarea",{key:6,"onUpdate:modelValue":r=>i.value[t.id]=r,placeholder:t.placeholder},null,8,Y)),[[F,i.value[t.id]]]):y("",!0)]))),128)),d("button",{type:"submit",onClick:D(v,["prevent"])},"Envoyer",8,Z)]))}});const N=h=>(E("data-v-a645fa53"),h=h(),$(),h),te={class:"v-proto-form"},se={class:"v-proto-form__bottom_content"},oe=N(()=>d("h3",null,"Pour commencer, cochez la case ci-après.",-1)),ne={class:"app-form__section app-form__section--valid"},re=N(()=>d("label",{class:"no-counter"},"Je confirme avoir plus de 18 ans et souhaiter participer à l'enquête",-1)),ie=N(()=>d("h6",null,"En cliquant sur cette case, vous donnez votre consentement pour la collecte et l'utilisation des données selon les conditions évoquées ci-dessus (En savoir plus). Les démarches pour avoir accès à vos données personnelles, les modifier ou les supprimer s’effectuent par e-mail en cliquant ici. 1 Loi sur l’information du public, l’accès aux documents et la protection des données personnelles, du 5 octobre 2001 (LIPAD; A 2 08) et règlement d'application de la loi sur l'information du public, l'accès aux documents et la protection des données personnelles, du 21 décembre 2011 (RIPAD; A 2 08.01). ",-1)),le={key:0,class:"v-proto-form__bottom_content"},ue={class:"v-proto-form__bottom_content__section"},ae="",ce=z({__name:"proto-form-2",setup(h){const _=f(void 0),i=f(void 0),g=f(void 0);B(async()=>{var e;const v=await j("proposer-un-projet");_.value=(e=v.options.headerImage)==null?void 0:e.resize.xxl,i.value=v.options.headerTitle,g.value=v.body});const p=f(!1),k={intro:{image:[],content:{content:{text:`
<h1>Questionnaire</h1>
<p>Merci pour votre intérêt pour l’initiative « Déclic Mobilité »</p>
<h3>Déclic Mobilité, c’est quoi ?</h3>
<p>Le concept est simple : vous stationnez (dans un parking prévu à cet effet) votre véhicule durant le mois de mai 2025 et vous recevez un accès gratuit à des alternatives de déplacement de votre choix parmi lesquelles un abonnement général CFF, un vélo/vélo électrique/vélo cargo, un abonnement Mobility, et bien d’autres services. </p>
<h3>Quelles sont les conditions de participation ?</h3>
<ul>
<li>Avoir 18 ans ou plus</li>
<li>Résider sur le territoire communal de Genève ou Carouge</li>
<li>Détenir un ou plusieur(s) véhicule(s) (voiture, moto ou scooter ; thermique ou électrique)</li>
<li>S’engager à ne pas utiliser son véhicule pendant un mois</li>
<li>Participer à la séance de lancement (samedi 3 mai matin) et de restitution (date, heure)</li>
</ul>
<h6>NB : les familles ou ménages composés de plusieurs personnes peuvent participer en groupe.</h6>
<h3>Comment s’inscrire ?</h3>
<p>Pour participer au défi « Déclic Mobilité », vous devez vous enregistrer en répondant à quelques questions (2 minutes) sur votre profil et vos habitudes de déplacement. Une sélection sera réalisée pour garantir une diversité des profils et les personnes sélectionnées seront recontactées par email avec toutes les informations nécessaires pour commencer l’aventure.</p>
<h3>Comment sont utilisées mes données personnelles ?</h3>
<p>L’enquête est effectuée sur la plateforme de sondage Qualtrics, hébergée sur un serveur sécurisé répondant à toutes les normes de sécurité en vigueur. Les données recueillies dans le cadre de cette enquête seront traitées de manière strictement confidentielle dans le respect des dispositions applicables en matière de protection des données1. Elles seront utilisées à des fins statistiques et d'évaluation de l’impact de la prise en charge des abonnements unireso. Elles ne seront pas transmises à des tiers et seront détruites à la fin de l’opération. </p>
  `},id:"",isHidden:!1,type:"body"}}};return(v,e)=>{const o=T;return a(),c("section",te,[M(V,{"header-cover":O(_),"header-text":ae,"body-content":k},null,8,["header-cover"]),d("div",se,[d("div",null,[oe,d("div",ne,[m(d("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=t=>S(p)?p.value=t:null)},null,512),[[q,O(p)]]),re]),ie])]),O(p)?(a(),c("div",le,[d("div",ue,[M(ee)])])):y("",!0),M(o)])}}});const fe=L(ce,[["__scopeId","data-v-a645fa53"]]);export{fe as default};
