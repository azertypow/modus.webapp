import{_ as F}from"./AppProjectItem.92af7d7d.js";import{f as R,A as V,_ as O}from"./AppPage.f4d25df5.js";import{g as S,k,o as a,c as s,a as o,q as H,t as v,i as t,v as g,x as J,y as b,F as y,m as G,p as z,f as L,_ as Z,u as K,r as w,h as Q,z as U,B as W,b as A,C as M,d as X,D as q}from"./entry.0f61b7cb.js";import{b as x,i as $,c as Y}from"./apiDefinitions.fe6183ee.js";import"./precent.46b4e294.js";function I(c){return typeof c!="string"?(console.error("projectBody must be type of string"),null):JSON.parse(c).find(n=>n.type==="spotify"||n.type==="video")}const T=c=>(z("data-v-080137ad"),c=c(),L(),c),ee=["src"],te={class:"v-app-project-media__header"},ae={class:"v-app-project-media__header__title app-font-h1"},oe={class:"v-app-project-media__header__headerTitle app-font-h4"},se={key:0,class:"v-app-project-media__details"},ne={class:"app-font-small"},re={key:0,class:"app-font-small"},ie=T(()=>o("div",{class:"v-app-project-media__player-wrap__title app-font-small"}," accéder au podcast ",-1)),ce=T(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",fill:"white",class:"v-app-project-media__player-wrap__payer"},[o("path",{d:"m380-300 280-180-280-180v360ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)),de=T(()=>o("div",{class:"v-app-project-media__player-wrap__title app-font-small"}," accéder à la vidéo ",-1)),le=T(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 -960 960 960",width:"24",fill:"white",class:"v-app-project-media__player-wrap__payer"},[o("path",{d:"m380-300 280-180-280-180v360ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"})],-1)),pe=S({__name:"AppProjectMedia",props:{projectMediaData:{}},setup(c){const _=c,n=k(()=>I(_.projectMediaData.content.body));function f(){b().push(`/project/${_.projectMediaData.slug}`)}return(l,u)=>{var h;return a(),s("section",{class:G(["v-app-project-media",(h=t(n))==null?void 0:h.type]),onClick:f},[o("img",{class:"v-app-project-media__cover",src:l.projectMediaData.headerImage[0].resize.reg,style:H({objectPosition:l.projectMediaData.headerImage[0].focus})},null,12,ee),o("div",te,[o("div",ae,v(l.projectMediaData.content.title),1),o("div",oe,v(l.projectMediaData.content.headertitle),1)]),t(n)?(a(),s("div",se,[o("div",ne,v(t(n).content.credits),1),t(n).content.date?(a(),s("div",re,"publié le "+v(t(R)(t(n).content.date)),1)):g("",!0)])):g("",!0),t(n)?(a(),s("div",{key:1,class:"v-app-project-media__player-wrap",onClick:u[0]||(u[0]=J(D=>("useRouter"in l?l.useRouter:t(b))().push({query:{target:"media"},path:`/project/${_.projectMediaData.slug}`}),["stop"]))},[t(n).type==="spotify"?(a(),s(y,{key:0},[ie,ce],64)):t(n).type==="video"?(a(),s(y,{key:1},[de,le],64)):g("",!0)])):g("",!0)],2)}}});const P=Z(pe,[["__scopeId","data-v-080137ad"]]),_e=c=>(z("data-v-4b0c54d8"),c=c(),L(),c),ue={class:"v-projects"},ve={class:"v-project__content app-show-background-on-nav"},he={class:"v-project__content__grid"},ye={class:"v-project__section v-project__section--full"},fe={style:{display:"flex","align-items":"center","justify-content":"center"}},me={class:"v-project__filter__text"},ge=_e(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",class:"bi bi-x-circle-fill",viewBox:"0 0 16 16"},[o("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"})],-1)),je={key:1,class:"v-project__filter--list",style:{display:"flex",gap:"1rem","flex-wrap":"wrap","justify-content":"center"}},we=["onClick"],qe={class:"v-project__section"},ke={key:1,class:"v-project__section v-project__section--full"},Te={style:{"min-height":"50vh",display:"flex","align-items":"center","justify-content":"center",width:"100%"}},Me={key:0,style:{"text-align":"center"}},xe={class:"v-project__section"},$e=S({__name:"projects",setup(c){const _=K(),n=b(),f=w(void 0),l=w(void 0),u=w(void 0),h=k(()=>!r.value||!u.value?null:D(u.value));function D(i){return Object.values(i).filter(d=>d.content.device===r.value)}function E(i){return Object.values(i).sort((p,m)=>{const e=new Date(p.content.datestart).getTime(),j=new Date(m.content.datestart).getTime();if(e!==j)return j-e;const C=p.content.dateend?new Date(p.content.dateend).getTime():0;return(m.content.dateend?new Date(m.content.dateend).getTime():0)-C})}Q(async()=>{var d,p;const i=await U("projects");f.value=(d=i.options.headerImage)==null?void 0:d.resize.tiny,l.value=i.options.headerTitle,u.value=E(i.children),N(((p=i.options.headerImage)==null?void 0:p.url)||"")});function N(i){const d=new Image;d.src=i,d.addEventListener("load",()=>f.value=i)}const r=w(_.query.q||null),B=k(()=>r.value===null||typeof r.value!="string"?null:$(r.value)?x[r.value]:null);return W(()=>_.query.q,i=>{r.value=i}),k(()=>r.value===null||typeof r.value!="string"?null:$(r.value)?Y[r.value]:null),(i,d)=>{const p=F,m=O;return a(),s("section",ue,[A(V,{"header-cover":t(f),"header-text":t(l),"without-body":!0},null,8,["header-cover","header-text"]),o("div",ve,[o("div",he,[o("div",ye,[o("div",fe,[t(B)?(a(),s("div",{key:0,class:"v-project__filter",onClick:d[0]||(d[0]=e=>t(n).push({query:{}}))},[o("div",me,v(t(B)),1),ge])):(a(),s("div",je,[(a(!0),s(y,null,M(t(x),(e,j)=>(a(),s("div",{class:"app-button app-button--small",onClick:C=>t(n).push({query:{q:j}})},v(e),9,we))),256))]))])]),t(h)?(a(),s(y,{key:0},[t(h).length>0?(a(!0),s(y,{key:0},M(t(h),e=>(a(),s("div",qe,[e.content.device==="library"?(a(),q(P,{key:0,"project-media-data":e},null,8,["project-media-data"])):(a(),q(p,{key:1,title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"]))]))),256)):(a(),s("div",ke,[o("div",Te,[typeof t(r)=="string"&&t($)(t(r))?(a(),s("h4",Me,[X("Il n'y a pas encore de projet pour "),o("span",{class:"app-button app-button--small",onClick:d[1]||(d[1]=e=>t(n).push({query:{q:""}}))},v(t(x)[t(r)]),1)])):g("",!0)])]))],64)):(a(!0),s(y,{key:1},M(t(u),e=>(a(),s("div",xe,[e.content.device==="library"?(a(),q(P,{key:0,"project-media-data":e},null,8,["project-media-data"])):(a(),q(p,{key:1,title:e.content.title,content:e.content.headertitle,"project-type":e.content.device,img_src:e.headerImage[0].resize.reg,slug:e.slug,date_start:e.content.datestart,is_project_with_duration:e.content.isprojectwithduration,date_end:e.content.dateend},null,8,["title","content","project-type","img_src","slug","date_start","is_project_with_duration","date_end"]))]))),256))])]),A(m)])}}});const Se=Z($e,[["__scopeId","data-v-4b0c54d8"]]);export{Se as default};
